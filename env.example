# Database Configuration

# For local development with Supabase CLI:
# Run `pnpm db:start` to start local Supabase
# Then run `pnpm db:status` to get your local connection string
DATABASE_URI=postgresql://postgres:postgres@127.0.0.1:54322/postgres

# For production with Supabase cloud (recommended: use connection pooler):
# Note: Use sslmode=no-verify for Supabase to avoid certificate validation issues in build environments
# This still uses SSL encryption but doesn't validate the certificate chain
# DATABASE_URI=postgresql://postgres.[YOUR-PROJECT-ID]:[YOUR-PASSWORD]@aws-0-us-east-1.pooler.supabase.com:6543/postgres?pgbouncer=true&sslmode=no-verify
# 
# Alternative: Direct connection (for long-lived connections):
# DATABASE_URI=postgresql://postgres.[YOUR-PROJECT-ID]:[YOUR-PASSWORD]@db.[YOUR-PROJECT-REF].supabase.co:5432/postgres?sslmode=no-verify

# Payload CMS Secret (generate with: openssl rand -base64 32)
PAYLOAD_SECRET=your-secret-key-here

# Cache Revalidation Secret (generate with: openssl rand -base64 32)
REVALIDATE_SECRET=your-revalidation-secret-here

# Site URL
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# Supabase Storage Configuration (for media uploads)
# These are required for production. For local development, you can leave these empty
# to use local file storage, or configure them to use Supabase Storage locally too.
#
# To get these values:
# 1. Go to your Supabase project dashboard
# 2. Navigate to Settings > API
# 3. Find "Project URL" - this is your endpoint base (e.g., https://[project-ref].supabase.co)
# 4. Navigate to Settings > Storage
# 5. Create a bucket (e.g., "media" or "payload-media")
# 6. Go to Settings > API > Storage keys to get your access key and secret
#
# SUPABASE_STORAGE_BUCKET=your-bucket-name
# SUPABASE_STORAGE_ENDPOINT=https://[project-ref].supabase.co/storage/v1/s3
# SUPABASE_STORAGE_ACCESS_KEY_ID=your-access-key-id
# SUPABASE_STORAGE_SECRET_ACCESS_KEY=your-secret-access-key
# SUPABASE_STORAGE_REGION=us-east-1
#
# Security: Set to 'true' to use signed URLs (for private buckets)
# When true, Payload will generate time-limited signed URLs for file access
# When false, files will use direct URLs (works with public buckets - recommended for public images)
# For public images that should be accessible to everyone, set this to 'false' and make the bucket public
# SUPABASE_STORAGE_USE_SIGNED_URLS=false

